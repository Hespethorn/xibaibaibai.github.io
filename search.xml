<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>openMV记录</title>
      <link href="/2022/07/06/openMV%E8%AE%B0%E5%BD%95/"/>
      <url>/2022/07/06/openMV%E8%AE%B0%E5%BD%95/</url>
      
        <content type="html"><![CDATA[<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 色块监测 例子</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># 这个例子展示了如何通过find_blobs()函数来查找图像中的色块</span></span><br><span class="line"><span class="comment"># 这个例子查找的颜色是深绿色</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> sensor, image, time</span><br><span class="line"></span><br><span class="line"><span class="comment"># 颜色追踪的例子，一定要控制环境的光，保持光线是稳定的。</span></span><br><span class="line">green_threshold   = (<span class="number">25</span>, <span class="number">41</span>, -<span class="number">7</span>, <span class="number">9</span>, -<span class="number">39</span>, -<span class="number">14</span>)</span><br><span class="line"><span class="comment">#设置绿色的阈值，括号里面的数值分别是L A B 的最大值和最小值（minL, maxL, minA,</span></span><br><span class="line"><span class="comment"># maxA, minB, maxB），LAB的值在图像左侧三个坐标图中选取。如果是灰度图，则只需</span></span><br><span class="line"><span class="comment">#设置（min, max）两个数字即可。</span></span><br><span class="line"></span><br><span class="line">sensor.reset() <span class="comment"># 初始化摄像头</span></span><br><span class="line">sensor.set_pixformat(sensor.RGB565) <span class="comment"># 格式为 RGB565.</span></span><br><span class="line">sensor.set_framesize(sensor.QVGA) <span class="comment"># 使用 QQVGA 速度快一些</span></span><br><span class="line">sensor.skip_frames(time = <span class="number">2000</span>) <span class="comment"># 跳过2000s，使新设置生效,并自动调节白平衡</span></span><br><span class="line">sensor.set_auto_gain(<span class="literal">False</span>) <span class="comment"># 关闭自动自动增益。默认开启的，在颜色识别中，一定要关闭白平衡。</span></span><br><span class="line">sensor.set_auto_whitebal(<span class="literal">False</span>) <span class="comment">#关闭白平衡。白平衡是默认开启的，在颜色识别中，一定要关闭白平衡。</span></span><br><span class="line">clock = time.clock() <span class="comment"># 追踪帧率</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span>(<span class="literal">True</span>):</span><br><span class="line">    clock.tick() <span class="comment"># Track elapsed milliseconds between snapshots().</span></span><br><span class="line">    img = sensor.snapshot() <span class="comment"># 从感光芯片获得一张图像</span></span><br><span class="line"></span><br><span class="line">    blobs = img.find_blobs([green_threshold],x_stride = <span class="number">10</span>,y_stride = <span class="number">10</span>)</span><br><span class="line">    <span class="comment">#find_blobs(thresholds, invert=False, roi=Auto),thresholds为颜色阈值，</span></span><br><span class="line">    <span class="comment">#是一个元组，需要用括号［ ］括起来。invert=1,反转颜色阈值，invert=False默认</span></span><br><span class="line">    <span class="comment">#不反转。roi设置颜色识别的视野区域，roi是一个元组， roi = (x, y, w, h)，代表</span></span><br><span class="line">    <span class="comment">#从左上顶点(x,y)开始的宽为w高为h的矩形区域，roi不设置的话默认为整个图像视野。</span></span><br><span class="line">    <span class="comment">#这个函数返回一个列表，[0]代表识别到的目标颜色区域左上顶点的x坐标，［1］代表</span></span><br><span class="line">    <span class="comment">#左上顶点y坐标，［2］代表目标区域的宽，［3］代表目标区域的高，［4］代表目标</span></span><br><span class="line">    <span class="comment">#区域像素点的个数，［5］代表目标区域的中心点x坐标，［6］代表目标区域中心点y坐标，</span></span><br><span class="line">    <span class="comment">#［7］代表目标颜色区域的旋转角度（是弧度值，浮点型，列表其他元素是整型），</span></span><br><span class="line">    <span class="comment">#［8］代表与此目标区域交叉的目标个数，［9］代表颜色的编号（它可以用来分辨这个</span></span><br><span class="line">    <span class="comment">#区域是用哪个颜色阈值threshold识别出来的）。</span></span><br><span class="line">    <span class="comment">#x_stride为寻找的色块x轴像素，低于设定值的将会被排除，y_stride同理</span></span><br><span class="line">    <span class="keyword">if</span> blobs:</span><br><span class="line">    <span class="comment">#如果找到了目标颜色</span></span><br><span class="line">        <span class="keyword">for</span> b <span class="keyword">in</span> blobs:</span><br><span class="line">        <span class="comment">#迭代找到的目标颜色区域</span></span><br><span class="line">            <span class="comment"># Draw a rect around the blob.</span></span><br><span class="line">            img.draw_rectangle(b[<span class="number">0</span>:<span class="number">4</span>]) <span class="comment"># rect</span></span><br><span class="line">            <span class="comment">#用矩形标记出目标颜色区域</span></span><br><span class="line">            img.draw_cross(b[<span class="number">5</span>], b[<span class="number">6</span>]) <span class="comment"># cx, cy</span></span><br><span class="line">            <span class="comment">#在目标颜色区域的中心画十字形标记</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(clock.fps()) <span class="comment"># 注意: 你的OpenMV连到电脑后帧率大概为原来的一半</span></span><br><span class="line">    <span class="comment">#如果断开电脑，帧率会增加</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> openmv </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PID控制算法与在模拟电路中应用研究</title>
      <link href="/2022/05/21/PID%E6%8E%A7%E5%88%B6%E7%AE%97%E6%B3%95%E4%B8%8E%E5%9C%A8%E6%A8%A1%E6%8B%9F%E7%94%B5%E8%B7%AF%E4%B8%AD%E5%BA%94%E7%94%A8%E7%A0%94%E7%A9%B6/"/>
      <url>/2022/05/21/PID%E6%8E%A7%E5%88%B6%E7%AE%97%E6%B3%95%E4%B8%8E%E5%9C%A8%E6%A8%A1%E6%8B%9F%E7%94%B5%E8%B7%AF%E4%B8%AD%E5%BA%94%E7%94%A8%E7%A0%94%E7%A9%B6/</url>
      
        <content type="html"><![CDATA[<h1><strong>PID控制算法与在模拟电路中应用研究</strong></h1><p>**摘要：**PID控制算法作为一种广泛应用于工程实践系统中的经典控制算法，凭借其简便、可靠的特点在简单运动控制中发挥着至关重要的作用。以一个学生的角度，从简略的介绍PID的历史发展引入，重点综述PID控制器的算法设计，同时引入目前在运动控制中被广泛应用的位置式PID算法，增量式PID算法，最后结合目前所学模拟电子知识进行简要设计仿真，并进一步对未来PID控制算法发展进行粗略展望。</p><p>**关键词：**PID控制算法；运动控制；位置式；增量式；</p><p><strong>Abstract:</strong> PID control algorithm, as a classic control algorithm, which was widely used in engineering practice systems, plays a significant role in simple motion control by its virtue of simplicity and reliability. From the perspective of a student, this paper starts by briefly introducing the PID historical development, focusing on the algorithm design of the PID controller, and introducing the positional PID algorithm and incremental PID algorithm that are widely used in motion control. Finally, combined with current analog electronics knowledge to carry out a brief design simulation, and make a rough outlook on the future development of PID control algorithms.</p><p><strong>Keywords:</strong> PID control algorithm; Motion control; Positional; Incremental;</p><h2 id="前言"><strong>前言</strong></h2><p>PID控制算法是建立在反馈放大电路上的一种自动控制算法，其经过近百年的发展历史，在理论研究和技术应用层面已颇为成熟，基于PID调节器衍生出的改进型，如：专家系统PID控制器、自适应PID控制器以及模糊PID控制器等智能控制器，在牺牲一部分PID控制器简便、易用的特点的同时，提高了运动控制效果，增强了系统面对干扰的稳定性，取得了较好的试验成果[^1]。到本世纪初，PID控制器及其改进型仍是各种运动控制过程中最常见的控制器[^2]（世界范围超九成以上在过程控制中应用纯PID控制器及其改进型，后者占比较小，仅为6%左右）。但在基础运动控制过程中，输入曲线往往不具有线性时不变特征，难以用数学模型进行量化，只能手动调整参数，面临着参数调整困难、输出曲线超调和震荡等问题。针对PID控制器所面临的问题与挑战，国内外已有许多专家学者就此讨论了现状[^3]。这就对PID控制器的进一步深入研究提出了要求，本文通过对几种PID控制算法的简易介绍，指出其各自特色和适用环境，设计反向比例PID控制电路并进行仿真分析，以加深对PID系统设计的认识和了解，最后对PID的发展做出展望总结。</p><h2 id="PID控制算法基本原理"><strong>PID控制算法基本原理</strong></h2><h3 id="基本PID控制原理"><strong>基本PID控制原理</strong></h3><p>PID算法是集比例（Proportional）、积分（Integral）、微分（Differential）三部分为一体的二阶线性控制算法，其原始公式为：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mi>u</mi><mrow><mo fence="true">(</mo><mi>t</mi><mo fence="true">)</mo></mrow><mo>=</mo><msub><mi>K</mi><mi>p</mi></msub><mrow><mo fence="true">[</mo><mi>e</mi><mrow><mo fence="true">(</mo><mi>t</mi><mo fence="true">)</mo></mrow><mo>+</mo><mfrac><mi>T</mi><msub><mi>T</mi><mi>i</mi></msub></mfrac><msubsup><mo>∫</mo><mn>0</mn><mi>t</mi></msubsup><mi>e</mi><mrow><mo fence="true">(</mo><mi>t</mi><mo fence="true">)</mo></mrow><mi>d</mi><mi>t</mi><mo>+</mo><mfrac><msub><mi>T</mi><mi>d</mi></msub><mi>T</mi></mfrac><mo>∙</mo><mfrac><mrow><mi>d</mi><mi>e</mi><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow><mrow><mi>d</mi><mi>t</mi></mrow></mfrac><mo fence="true">]</mo></mrow></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(1)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">u\left(t\right)=K_p\left[e\left(t\right)+\frac{T}{T_i}\int_{0}^{t}e\left(t\right)dt+\frac{T_d}{T}\bullet\frac{de(t)}{dt}\right]\tag{1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">u</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord mathnormal">t</span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:2.4935em;vertical-align:-0.95em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord mathnormal">t</span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.836em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop"><span class="mop op-symbol large-op" style="margin-right:0.44445em;position:relative;top:-0.0011em;">∫</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5435em;"><span style="top:-1.7881em;margin-left:-0.4445em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">0</span></span></span></span><span style="top:-3.8129em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.9119em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord mathnormal">t</span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">d</span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3603em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.1389em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∙</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.427em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">d</span><span class="mord mathnormal">t</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathnormal">d</span><span class="mord mathnormal">e</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mclose">)</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span></span><span class="tag"><span class="strut" style="height:2.4935em;vertical-align:-0.95em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">1</span></span><span class="mord">)</span></span></span></span></span></span></p><p>在(1)式中，为时刻PID控制系统的输入量，通常使用系统设定量与被控量采样值的差值，；为该系统的输出量; 是该系统的比例项的调节系数，积分系数为，微分系数为，其中、分别为系统的积分时间与微分时间，为系统对被控量的采样周期，具体如图 1系统控制原理图所示[^4]。</p><img src="/2022/05/21/PID%E6%8E%A7%E5%88%B6%E7%AE%97%E6%B3%95%E4%B8%8E%E5%9C%A8%E6%A8%A1%E6%8B%9F%E7%94%B5%E8%B7%AF%E4%B8%AD%E5%BA%94%E7%94%A8%E7%A0%94%E7%A9%B6/2022-05-21-22-38-17.png" width="50%/"><center>图 1 PID控制原理图</center><p>由于单片机或计算机等系统平台均为离散控制系统，不能对被控量进行时时采样处理，因此对(1)式简化后，离散化PID公式如下：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable width="100%"><mtr><mtd width="50%"></mtd><mtd><mrow><mi>u</mi><mrow><mo fence="true">(</mo><mi>k</mi><mo fence="true">)</mo></mrow><mo>=</mo><msub><mi>K</mi><mi>p</mi></msub><mi>e</mi><mrow><mo fence="true">(</mo><mi>k</mi><mo fence="true">)</mo></mrow><mo>+</mo><msub><mi>K</mi><mi>i</mi></msub><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>0</mn></mrow><mi>k</mi></munderover><mi>e</mi><mrow><mo fence="true">(</mo><mi>i</mi><mo fence="true">)</mo></mrow><mo>+</mo><msub><mi>K</mi><mi>d</mi></msub><mrow><mo fence="true">[</mo><mi>e</mi><mrow><mo fence="true">(</mo><mi>k</mi><mo fence="true">)</mo></mrow><mo>−</mo><mi>e</mi><mo stretchy="false">(</mo><mi>k</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mo fence="true">]</mo></mrow></mrow></mtd><mtd width="50%"></mtd><mtd><mtext>(2)</mtext></mtd></mtr></mtable><annotation encoding="application/x-tex">u\left(k\right)=K_pe\left(k\right)+K_i\sum_{i=0}^{k}e\left(i\right)+K_d\left[e\left(k\right)-e(k-1)\right]\tag{2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">u</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em;"><span></span></span></span></span></span></span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:3.1138em;vertical-align:-1.2777em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.8361em;"><span style="top:-1.8723em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">0</span></span></span></span><span style="top:-3.05em;"><span class="pstrut" style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class="pstrut" style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.03148em;">k</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em;"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord mathnormal">i</span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em;"><span style="top:-2.55em;margin-left:-0.0715em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">[</span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;">(</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mclose delimcenter" style="top:0em;">)</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal">e</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mclose delimcenter" style="top:0em;">]</span></span></span><span class="tag"><span class="strut" style="height:3.1138em;vertical-align:-1.2777em;"></span><span class="mord text"><span class="mord">(</span><span class="mord"><span class="mord">2</span></span><span class="mord">)</span></span></span></span></span></span></p><p>为PID控制系统第次运行的输入量，即系统第次采样值与设定值的偏差量，；为该系统的第次运行所对应的输出量。</p><h3 id="位置式PID算法"><strong>位置式PID算法</strong></h3><p>位置式PID算法的表达式与(2)相同，系统的输出量与输入量呈一一对应的关系，系统根据第次的采样值与设定值的偏差实时计算出第次的输出量，从而直接控制运动系统，不断循环这个过程，使被控量能够稳定在系统设定值。</p><p>由于使用累加计算来代替积分项的积分计算，因此位置式PID控制算法更加适合不具有积分器件的系统，但同时也导致位置式PID算法在应用时存在计算量大的问题。</p><h3 id="增量式PID算法"><strong>增量式PID算法</strong></h3><p>增量式PID作为位置式PID控制算法的改进型，将输出量的增量作为输出量。与位置式PID算法所不同，每个时刻的输出是相对当前输出量的增量，并非直接对应输出量的大小，所以被控系统在使用增量式PID算法时需要先对输出增量进行累加，然后实现对目标的控制。</p><p>下面给出的推导过程：</p><p>\begin{aligned}<br>\Delta u\left(k\right)  &amp; = u\left(k\right)-u\left(k-1\right)\\<br>&amp; =\left{K_pe\left(k\right)+K_i\sum_{i=0}^{k}e\left(i\right)+K_d\left[e\left(k\right)-e\left(k-1\right)\right]\right}\\<br>&amp; -\left{K_pe\left(k-1\right)+K_i\sum_{i=0}^{k-1}e\left(i\right)+K_d\left[e\left(k-1\right)-e\left(k-2\right)\right]\right}\\<br>&amp; = K_p\left[e\left(k\right)-e\left(k-1\right)\right]+K_ie\left(k\right)+K_d\left[e\left(k\right)-2e\left(k-1\right)+e\left(k-2\right)\right]\tag{3}\\<br>\end{aligned}</p><p>式中、和分别为PID三个部分的控制参数，为PID控制系统第次的输入量，前文已经有详细的介绍，便不再过多赘述。</p><h3 id="两种PID算法的比较"><strong>两种PID算法的比较</strong></h3><h4 id="位置式PID算法的优缺点分析"><strong>位置式PID算法的优缺点分析</strong></h4><p>由上述原理可知，位置式PID算法的输出量可以直接对被控对象进行控制，系统的输出量与输入量一一对应，比例部分只与当前偏差有关，积分部分则是与之前系统偏差的累加和有关，微分部分则与当前偏差与上次偏差的差有关，相较增量式算法结构简单、清晰，对于参数的调整确定也较为明了。</p><p>但其缺点在上方也已提及，因为积分波分与之前每个时刻的偏差累计和有关，过去的每个状态都决定着当前系统的输出，使得系统的计算量不断增加，增大了系统平台的负担，减弱了系统的鲁棒性。另一个缺点在于积分饱和，当系统的设定值改变后，若小于被控对象采样值，偏差反向，但由于之前过大的积分积累值，输出量和被控量需要相当长的一段时间才能脱离饱和区，因此会引起控制系统产生大幅度超调，对系统的鲁棒性有较大影响。</p><p>因此在系统输入值的绝对值过大时，需要紧急停止积分项，当采样值接近设定值时，即小于某一阈值时，再开启积分项逐渐缩小系统静态误差，具体实现原理如下：</p><p>积分部分：</p><p>因此位置式PID算法更加适合设定值为固定值，需要将被控对象被控量稳定在设定值附近的运动控制，如应用在平衡车的平衡控制，电单车的平衡控制等平衡控制中。同时在没有积分器件的运动控制系统中也能够得到较好的应用。</p><h4 id="增量式PID算法的优缺点分析"><strong>增量式PID算法的优缺点分析</strong></h4><p>正是由于位置式PID算法存在这些缺点，增量式PID算法才得以提出，它在前者的设计上加以改进。不再需要累加求和，减少了对系统平台的负担，控制增量仅与最近三次的输入偏差有关。另外系统将输出增量作为输出，即被控对象的输入变化量，当出现不正常变化时，可以通过逻辑判断来排除错误信息，增强了系统的鲁棒性。</p><p>但正是由于仅与最近三次的输入偏差有关，由于积分截断效应，可能会产生一定量的静态偏差。</p><p>因此增量式PID算法更适合设定值需要不断变化的运动控制中，如步进电机的控制和平衡车的速度环，在对此类的控制中有很好的实时性。[^5]</p><h2 id="PID算法控制系统仿真"><strong>PID算法控制系统仿真</strong></h2><p>在上文中已经详细介绍了PID控制原理和两个在运动控制中被广泛应用的PID算法，并且独立分析了两者的优缺点，给出了各自适合的运动控制环境。下面将逐步利用Multisim搭建反向比例运算PID控制电路的积分部分和微分部分并进行仿真分析，最后将其组合以实现反向比例PID电路。</p><h3 id="积分运算电路"><strong>积分运算电路</strong></h3><h4 id="积分运算电路的搭建和理论计算"><strong>积分运算电路的搭建和理论计算</strong></h4><img src="/2022/05/21/PID%E6%8E%A7%E5%88%B6%E7%AE%97%E6%B3%95%E4%B8%8E%E5%9C%A8%E6%A8%A1%E6%8B%9F%E7%94%B5%E8%B7%AF%E4%B8%AD%E5%BA%94%E7%94%A8%E7%A0%94%E7%A9%B6/b81b0e781e14c7f308d3fcd6d881fe15.png" width="50%/">首先搭建积分运算电路，如右图 2。XFG1为交流信号源；XSC1为二通道示波器，在仿真利用A、B两通道来采集输入、输出信号，A通道采集信号源（信号源均采用1KHz信号），B通道采集电路系统的输出电压信号。<p>与一般的积分放大电路所不同，R2的在电路中发挥着抑制直流增益过大的作用。由反向比例运算放大电路的放大倍数的计算公式可知：</p><p>对于直流信号，若没有反馈电阻R2，反馈阻抗，放大倍数，会造成直流增益饱和。</p><p>而对于交流信号，只需使反馈电阻的阻抗远大于反馈电容容抗即可近似忽略R2所带来的影响。</p><p>、分别为交流信号源频率和反馈电容值，即1KHz和100nF，经计算，故在交流信号作用时，可近似忽略R2所带来的影响，因此便可利用电路知识计算得出输出电压表达式：</p><h4 id="积分运算电路的仿真"><strong>积分运算电路的仿真</strong></h4><p>调节信号源使其先后输入频率，赋值的方波信号和正弦波信号，示波器采集波形分别如图 3和图 4。红色线为信号源波形，绿色线为输出信号波形，前后两次输入分别对应的输出波形为三角波和余弦波，符合数学计算。</p><p>经分析，交流放大倍数，如图 4中可见输出余弦波的赋值，与理论计算完全符合，存在的微小误差为反馈电阻R2所引起的，同时也印证了前文可近似忽略R2影响的判断。</p><img src="/2022/05/21/PID%E6%8E%A7%E5%88%B6%E7%AE%97%E6%B3%95%E4%B8%8E%E5%9C%A8%E6%A8%A1%E6%8B%9F%E7%94%B5%E8%B7%AF%E4%B8%AD%E5%BA%94%E7%94%A8%E7%A0%94%E7%A9%B6/d22f03c6889f574cc9cb2411fac56e97.png" width="50%/"><center>图 3 输入方波信号</center><img src="/2022/05/21/PID%E6%8E%A7%E5%88%B6%E7%AE%97%E6%B3%95%E4%B8%8E%E5%9C%A8%E6%A8%A1%E6%8B%9F%E7%94%B5%E8%B7%AF%E4%B8%AD%E5%BA%94%E7%94%A8%E7%A0%94%E7%A9%B6/10081cd4fb0018a59a73405cee70c7a4.png" width="50%/"><center>图 4输入正弦波信号</center><h3 id="微分运算电路"><strong>微分运算电路</strong></h3><h4 id="微分运算电路的搭建和理论计算"><strong>微分运算电路的搭建和理论计算</strong></h4><img src="/2022/05/21/PID%E6%8E%A7%E5%88%B6%E7%AE%97%E6%B3%95%E4%B8%8E%E5%9C%A8%E6%A8%A1%E6%8B%9F%E7%94%B5%E8%B7%AF%E4%B8%AD%E5%BA%94%E7%94%A8%E7%A0%94%E7%A9%B6/40682547326ba5f7e98aa34b235357ca.png" width="50%/"><center>图 5 微分运算电路</center>与积分电路相似，关于电路搭建并不再赘述。<p>C1在此电路中发挥抑制交流增益过大的作用。对于直流信号，该电路不能正常工作；对于交流信号，若没有反馈电容C1，前置电容趋近于0，故交流放大倍数，会造成交流增益饱和。</p><p>因此，在应用时只需使反馈电容的容抗远大于反馈电阻阻抗，便可近似忽略C1所带来的影响。</p><p>经计算，，故在交流信号作用时，可近似忽略C1所带来的影响。因此便可利用电路知识计算得出输出电压表达式：</p><h4 id="微分运算电路的仿真"><strong>微分运算电路的仿真</strong></h4><p>调节信号源使其先后输入频率，赋值的方波信号和正弦波信号，示波器采集波形分别如图 6和图 7。红色线为信号源波形，绿色线为输出信号波形，前后两次输入分别对应的输出波形分别为冲击波和反向余弦波，符合数学计算。</p><p>经分析，，交流放大倍数，如图 7中可见输出余弦波的赋值，与理论计算完全符合，存在的误差为反馈电容C1所引起的，同时也印证了前文可近似忽略C1影响的判断。</p><div align="center"><img src="/2022/05/21/PID%E6%8E%A7%E5%88%B6%E7%AE%97%E6%B3%95%E4%B8%8E%E5%9C%A8%E6%A8%A1%E6%8B%9F%E7%94%B5%E8%B7%AF%E4%B8%AD%E5%BA%94%E7%94%A8%E7%A0%94%E7%A9%B6/5dc4285fb5c30f77997d8b011adb6233.png" width="49%/"><center>图 6 输入方波信号</center><img src="/2022/05/21/PID%E6%8E%A7%E5%88%B6%E7%AE%97%E6%B3%95%E4%B8%8E%E5%9C%A8%E6%A8%A1%E6%8B%9F%E7%94%B5%E8%B7%AF%E4%B8%AD%E5%BA%94%E7%94%A8%E7%A0%94%E7%A9%B6/79e3967f0444cf55da4123bc3f4db9f7.png" width="49%/"><center>图 7 输入正弦波信号</center></div><h3 id="反向比例PID运算器电路"><strong>反向比例PID运算器电路</strong></h3><h4 id="PID运算器电路的搭建和理论计算"><strong>PID运算器电路的搭建和理论计算</strong></h4><div align="center"><img src="/2022/05/21/PID%E6%8E%A7%E5%88%B6%E7%AE%97%E6%B3%95%E4%B8%8E%E5%9C%A8%E6%A8%A1%E6%8B%9F%E7%94%B5%E8%B7%AF%E4%B8%AD%E5%BA%94%E7%94%A8%E7%A0%94%E7%A9%B6/00827371e7ed78ffb73ba0e74b51e735.png" width="50%/"></div><center>图 8 PID电路</center>关于积分运算电路（积分部分）、微分运算电路（微分部分）已在前文做了详细介绍和电路仿真，所搭建的PID运算电路如右图 8所示。<p>与前文的积分运算电路和微分运算电路相似，C3和R5在本电路中发挥着抑制低频（包括直流）和高频交流信号饱和的作用。</p><p>故在交流分析中，可忽略C3和R5两个原件所带来的影响。下面给出输出电压表达式：</p><p>比例系数</p><p>积分系数</p><p>微分系数</p><p>本文通过手动切换开关状态来达到模拟输入变化的情况，在开关A断开时，系统输入为零；当A闭合的瞬间，输入变化巨大，这就要求PID能够缓慢平稳地调整输出量，从而稳定输出波形。具体仿真结果如下图 9：</p><div align="center"><img src="/2022/05/21/PID%E6%8E%A7%E5%88%B6%E7%AE%97%E6%B3%95%E4%B8%8E%E5%9C%A8%E6%A8%A1%E6%8B%9F%E7%94%B5%E8%B7%AF%E4%B8%AD%E5%BA%94%E7%94%A8%E7%A0%94%E7%A9%B6/54909e44cb08f7075ce3a410c7bd0fa0.png" width="50%/"></div><center>图 9 输入方波</center><p>在46ms时，开关A突然闭合，可视为五个单位的阶跃信号，可见在面对输入信号如此大的变化时，良好的PID系统仍然能够稳定输出信号，平稳的控制输出量，经过60ms的响应时间便可使输出彻底稳定。对于输入突然减小的情况也同样发挥着极好的调节作用，充分说明调整良好的PID系统具有响应快、输出稳定的特点，同时也能避免超调、震荡等现象。</p><h2 id="总结与展望"><strong>总结与展望</strong></h2><p>本文从PID控制原理开始引入，介绍了简单、运用广泛的两种PID控制算法，而后将重点置于利用所学完成PID控制电路的搭建和仿真，逐步实现PID控制电路，得到了不错的仿真效果，同时也极大地加深了对PID控制的了解。</p><p>近些年来，PID控制算法的设计得到了很大的发展，衍生出了一些改进型，例如专家型自适应PID算法、模糊PID算法等，都得到了很好的控制效果。[^6] [^7]但其应用有所丧失PID算法所保持的简便、清晰的特点，对使用者和系统都有格外的要求。例如模糊PID算法，需要格外设计相对应的模糊规则控制表， 相较于简单PID算法极大的提高了工作量，虽然控制效果得以有效提高，但对于简单运动控制，普通PID经过参数的整定也能取得不错的效果，模糊PID算法便丧失了其优势。</p><p>因此，未来PID的发展应向保持简便、易用的同时，努力提高控制效果的方向发展。而近年来深度学习和人工智能的长足发展，为PID控制算法的进一步发展指明了探索的方向，使其向着更加智能化的方向前进。</p><h2 id="参考文献"><strong>参考文献</strong></h2><p>[1] 兰野. 基于惯性轮式自行车的平衡与运动控制[D/OL]. 哈尔滨工业大学, 2021…</p><p>[2] 王伟, 张晶涛, 柴天佑. PID参数先进整定方法综述[J/OL]. 自动化学报, 2000(3): 347-355. DOI:10.16383/j.aas.2000.03.009.</p><p>[3] 杨智, 朱海锋, 黄以华. PID控制器设计与参数整定方法综述[J]. 化工自动化及仪表, 2005(5): 1-7.</p><p>[4] 王述彦, 师宇, 冯忠绪. 基于模糊PID控制器的控制方法研究[J/OL]. 机械科学与技术, 2011, 30(1): 166-172. DOI:10.13433/j.cnki.1003-8728.2011.01.035.</p><p>[5] 王祎晨. 增量式PID和位置式PID算法的整定比较与研究[J]. 工业控制计算机, 2018, 31(5): 123-124.</p><p>[6] 王蕾, 宋文忠. PID控制[J]. 自动化仪表, 2004(4): 3-8.</p><p>[7] 刘碧飞, 刘泓滨, 李华文. 基于模糊PID算法的智能车电机转速控制研究[J]. 农业装备与车辆工程, 2021, 59(1): 93-98.</p><p>[8] 白志刚. 自动调节系统解析与PID整定[M]. 化学工业出版社. 2012…</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>记录一下搭建blog的经验</title>
      <link href="/2022/04/16/%E8%AE%B0%E5%BD%95%E4%B8%80%E4%B8%8B%E6%90%AD%E5%BB%BAblog%E7%9A%84%E7%BB%8F%E9%AA%8C/"/>
      <url>/2022/04/16/%E8%AE%B0%E5%BD%95%E4%B8%80%E4%B8%8B%E6%90%AD%E5%BB%BAblog%E7%9A%84%E7%BB%8F%E9%AA%8C/</url>
      
        <content type="html"><![CDATA[<h1>blog的基础搭建</h1><p>就我而言，没有服务器，利用GitHub和hexo搭建自己的博客是最为方便和简洁的。同时hexo有着许多美观的主题，较为知名的有Next和Butterfly两个主题，我用的为Butterfly这个主题，当然你也可以随心选择其他主题，但基本的搭建过程都是一样的。<br>关于基础的搭建教程已经有了很多，我就在此贴出一些我参考过的教程链接：</p><ol><li>[详细视频教程]<a href="https://www.bilibili.com/video/BV1aV411p7Bc">https://www.bilibili.com/video/BV1aV411p7Bc</a></li><li>[butterfly-主题]<a href="https://butterfly.js.org/posts/21cfbf15/">https://butterfly.js.org/posts/21cfbf15/</a></li></ol><p>在此也感谢UP主-<a href="https://space.bilibili.com/13282871">卷二兔</a>和butterfly主题开发人员。</p><h1>blog的主题配置</h1><p>当你完成基础的博客搭建步骤后，接下来可以按照你的审美和喜好进行blog的美化。<br>例如，改变网站的封面图片、文章封面等。对于文章封面，我比较建议用一张或几张图片来随机展示，如果每篇文章都使用不同的封面，可能加载图片需要更多的时间。对于图片的质量也是如此，大家可以按照自己的网速进行选择，但一般不建议用比较大的图片，像封面图这样显示较大的图片则可以选择质量较好的用来展示。<br>下面以我的blog为例介绍一下source文件夹的组成：<br><img src="/2022/04/16/%E8%AE%B0%E5%BD%95%E4%B8%80%E4%B8%8B%E6%90%AD%E5%BB%BAblog%E7%9A%84%E7%BB%8F%E9%AA%8C/2022-04-16-10-37-44.png" alt></p><p>在你的博客文件夹根目录下存在一个source文件夹，如果你按照上面视频教程的步骤搭建的话，其从上至下依此为：</p><ol><li>友情链接（在里面的link.yml文件里编辑链接）</li><li>文章（以后你所有写的博客都在这里面）</li><li>文章分类页</li><li>博客图片（你可以将要设置的图片复制到这里，然后在要用到的地方插入）</li><li>友情链接页</li><li>文章标签页</li></ol><p>不要把个人需要的文件/图片放在主题source文件夹里，因为在升级主题的过程中，可能会把文件覆盖删除了。在Hexo根目录的source文件夹（正是我所截图展示的）里，创建一个文件夹来放置个人文件/图片。<br>3 5 6三个只是初始页面的文件夹，我没有做其他的配置，大家可以自行探索。美化的教程同样可以参考上面的视频和主题配置文档，继续向后阅读。<br>一切以主题配置文档为准。</p><h1>blog进阶美化</h1><p>在完成以上的主题配置后，恭喜你已经拥有了一个属于自己的blog。但或许你仍想要其他的额外扩展功能，例如：</p><h2 id="网页看板娘">网页看板娘</h2><p>这个目前我已经在我的博客上成功搭建了，其中的艰辛着实很大，尤其是对我这个在之前从没接触过网页开发的菜鸟来说。<br>具体的步骤以后进行补充，在此先贴出我在配置过程中参考过的教程。</p><ol><li>[live2d-widget]<a href="https://www.jianshu.com/p/3a6342e16e57">https://www.jianshu.com/p/3a6342e16e57</a><br>这个较为简单，也支持手机端显示，同时我也找到了应用本地下载模型（live2D 支持moc）的方法，但效果并不理想。大家可以自行尝试。<br>这个的最大亮点就是可以使用下载过的本地模型。在此也算开了新坑，关于live2D以后会有更加详细的介绍。</li><li>[waifu-tips]<a href="https://www.fghrsh.net/post/123.html">https://www.fghrsh.net/post/123.html</a><br>也是目前我使用的这种，看板娘具有换模型、换装和信息提示等基本功能，另外通过设置也能拖动移动看板娘，打开返回桌面按钮和隐藏按钮。<br>根据这篇教程，我们有三种插入看板娘的方法，首先先下载博主提供的<a href="https://cdn.fghrsh.net/blogcdn/2019/02/201902111366_6304.zip">html前端代码压缩包</a>。<br>然后根据教程在网页上添加代码，下面我介绍我自己使用的第一种添加方式，同时我也推荐使用这种。<ol><li>首先我们要用到butterfly主题配置文件中的inject选项，根据注释，这个功能可以帮助我们在每个页面都进行添加，解决了自己添加只在首页显示的问题。<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># Insert the code to head (before &#x27;&lt;/head&gt;&#x27; tag) and the bottom (before &#x27;&lt;/body&gt;&#x27; tag)</span><br><span class="line"># 插入代码到头部 &lt;/head&gt; 之前 和 底部 &lt;/body&gt; 之前</span><br></pre></td></tr></table></figure></li><li>我们把下载到的压缩包进行解压，将assets文件夹复制到<em>你的blog/public</em>文件夹中</li><li>确认复制完成后在inject选项下插入相对应的代码</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">inject:</span><br><span class="line">   head:</span><br><span class="line">      - &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;https://xibaibaibai.github.io/assets/waifu.min.css?v=1.4.2&quot;/&gt;</span><br><span class="line">   bottom:</span><br><span class="line">      - &lt;!-- waifu-tips.js 依赖 JQuery 库 --&gt;</span><br><span class="line">         &lt;script src=&quot;https://xibaibaibai.github.io/assets/jquery.min.js?v=3.3.1&quot;&gt;&lt;/script&gt;</span><br><span class="line">         </span><br><span class="line">         &lt;!-- 实现拖动效果，需引入 JQuery UI --&gt;</span><br><span class="line">         &lt;script src=&quot;https://xibaibaibai.github.io/assets/jquery-ui.min.js?v=1.12.1&quot;&gt;&lt;/script&gt;</span><br><span class="line">         </span><br><span class="line">         &lt;div class=&quot;waifu&quot;&gt;</span><br><span class="line">            &lt;div class=&quot;waifu-tips&quot;&gt;&lt;/div&gt;</span><br><span class="line">            &lt;canvas id=&quot;live2d&quot; class=&quot;live2d&quot;&gt;&lt;/canvas&gt;</span><br><span class="line">            &lt;div class=&quot;waifu-tool&quot;&gt;</span><br><span class="line">               &lt;span class=&quot;fui-home&quot;&gt;&lt;/span&gt;</span><br><span class="line">               &lt;span class=&quot;fui-chat&quot;&gt;&lt;/span&gt;</span><br><span class="line">               &lt;span class=&quot;fui-eye&quot;&gt;&lt;/span&gt;</span><br><span class="line">               &lt;span class=&quot;fui-user&quot;&gt;&lt;/span&gt;</span><br><span class="line">               &lt;span class=&quot;fui-photo&quot;&gt;&lt;/span&gt;</span><br><span class="line">               &lt;span class=&quot;fui-info-circle&quot;&gt;&lt;/span&gt;</span><br><span class="line">               &lt;span class=&quot;fui-cross&quot;&gt;&lt;/span&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">         &lt;/div&gt;</span><br><span class="line">         &lt;script src=&quot;https://xibaibaibai.github.io/assets/waifu-tips.min.js?v=1.4.2&quot;&gt;&lt;/script&gt;</span><br><span class="line">         &lt;script src=&quot;https://xibaibaibai.github.io/assets/live2d.min.js?v=1.0.5&quot;&gt;&lt;/script&gt;</span><br><span class="line">         &lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">            /* 可直接修改部分参数 */</span><br><span class="line">            live2d_settings[&#x27;modelId&#x27;] = 1;                  /* 默认模型 ID*/</span><br><span class="line">            live2d_settings[&#x27;modelTexturesId&#x27;] = 87;         /* 默认材质 ID*/</span><br><span class="line">            live2d_settings[&#x27;modelStorage&#x27;] = true;         /*  不储存模型 ID  true存储  false不存储*/</span><br><span class="line">            live2d_settings[&#x27;canCloseLive2d&#x27;] = true;       /*  隐藏 关闭看板娘 按钮 true不关闭 false关闭*/</span><br><span class="line">            live2d_settings[&#x27;canTurnToHomePage&#x27;] = false;   /*  隐藏 返回首页 按钮*/</span><br><span class="line">            live2d_settings[&#x27;waifuSize&#x27;] = &#x27;250x250&#x27;;        /*  看板娘大小*/</span><br><span class="line">            live2d_settings[&#x27;waifuTipsSize&#x27;] = &#x27;200x70&#x27;;    /* 提示框大小*/</span><br><span class="line">            live2d_settings[&#x27;waifuFontSize&#x27;] = &#x27;12px&#x27;;       /*  提示框字体*/</span><br><span class="line">            live2d_settings[&#x27;waifuToolFont&#x27;] = &#x27;17px&#x27;;       /*  工具栏字体*/</span><br><span class="line">            live2d_settings[&#x27;waifuToolLine&#x27;] = &#x27;24px&#x27;;       /* 工具栏行高*/</span><br><span class="line">            live2d_settings[&#x27;waifuToolTop&#x27;] = &#x27;-10px&#x27;;       /* 工具栏顶部边距*/</span><br><span class="line">            live2d_settings[&#x27;waifuDraggable&#x27;] = &#x27;unlimited&#x27;;    /*  拖拽样式*/</span><br><span class="line">            live2d_settings[&#x27;waifuDraggableRevert&#x27;] = false;</span><br><span class="line">            /* 在 initModel 前添加 */</span><br><span class="line">            initModel(&quot;https://xibaibaibai.github.io/assets/waifu-tips.json?v=1.4.2&quot;)</span><br><span class="line">         &lt;/script&gt;</span><br></pre></td></tr></table></figure>**注意：**将<a href="https://xibaibaibai.github.io">https://xibaibaibai.github.io</a>链接改为你的个人网站链接，一共需要修改六处，不要不小心改错了。<br>同时你可以按照你的喜好直接在上方进行样式修改，另外的配置选项要到assets\waifu-tips.js文件中进行配置。</li><li>其他方式有待补充<br>**注意：**1 2两种不能同时采用，在尝试前最好对自己的blog文件夹进行备份以便后续修改。</li></ol><h2 id="网页音乐播放器">网页音乐播放器</h2><p>有待以后补充</p><h2 id="网页评论、留言">网页评论、留言</h2><p>有待以后补充</p><h1>markdown all in one 常用快捷键</h1><p>Ctrl/Cmd + B切换粗体<br>Ctrl/Cmd + I切换斜体<br>Ctrl/Cmd + Shift + ]切换标题（上层）<br>Ctrl/Cmd + Shift + [切换标题（下层）<br>Ctrl/Cmd + M切换数学环境<br>备选方案 + C选中/取消选中任务列表项<br>Ctrl/Cmd + Shift + V切换预览<br>Ctrl/Cmd + K V将预览切换到侧面</p>]]></content>
      
      
      
        <tags>
            
            <tag> blog搭建 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>转载+二级标题_test</title>
      <link href="/2022/04/11/%E8%BD%AC%E8%BD%BD-%E4%BA%8C%E7%BA%A7%E6%A0%87%E9%A2%98-test/"/>
      <url>/2022/04/11/%E8%BD%AC%E8%BD%BD-%E4%BA%8C%E7%BA%A7%E6%A0%87%E9%A2%98-test/</url>
      
        <content type="html"><![CDATA[<h2 id="二级标题">二级标题</h2><p>test 这是二级标题里的内容<br>随便写点什么吧</p><h3 id="三级标题">三级标题</h3><p>三级标题</p><h2 id="第二个二级标题">第二个二级标题</h2>]]></content>
      
      
      
        <tags>
            
            <tag> test </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>code-test-2</title>
      <link href="/2022/04/11/code-test-2/"/>
      <url>/2022/04/11/code-test-2/</url>
      
        <content type="html"><![CDATA[<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">不加描述会显示代码行号，我也不知道为啥。啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊啊</span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;Servo.h&gt;</span></span></span><br><span class="line"></span><br><span class="line">Servo a, b, c, d, e, f, g, h;  <span class="comment">//建立8个舵机对象</span></span><br><span class="line"><span class="type">int</span> aPos = <span class="number">70</span>;</span><br><span class="line"><span class="type">int</span> bPos = <span class="number">120</span>;</span><br><span class="line"><span class="type">int</span> cPos = <span class="number">60</span>;</span><br><span class="line"><span class="type">int</span> dPos = <span class="number">130</span>;</span><br><span class="line"><span class="type">int</span> ePos = <span class="number">100</span>;</span><br><span class="line"><span class="type">int</span> fPos = <span class="number">90</span>;</span><br><span class="line"><span class="type">int</span> gPos = <span class="number">90</span>;</span><br><span class="line"><span class="type">int</span> hPos = <span class="number">95</span>;</span><br><span class="line"><span class="type">int</span> dsd = <span class="number">5</span>;</span><br><span class="line"><span class="type">int</span> add = <span class="number">5</span>;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> code_test </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>代码演示</title>
      <link href="/2022/04/11/%E4%BB%A3%E7%A0%81%E6%BC%94%E7%A4%BA/"/>
      <url>/2022/04/11/%E4%BB%A3%E7%A0%81%E6%BC%94%E7%A4%BA/</url>
      
        <content type="html"><![CDATA[<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br></pre></td><td class="code"><pre><span class="line"># 必须要指定代码语言</span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;Servo.h&gt;</span></span></span><br><span class="line"></span><br><span class="line">Servo a, b, c, d, e, f, g, h;  <span class="comment">//建立8个舵机对象</span></span><br><span class="line"><span class="type">int</span> aPos = <span class="number">70</span>;</span><br><span class="line"><span class="type">int</span> bPos = <span class="number">120</span>;</span><br><span class="line"><span class="type">int</span> cPos = <span class="number">60</span>;</span><br><span class="line"><span class="type">int</span> dPos = <span class="number">130</span>;</span><br><span class="line"><span class="type">int</span> ePos = <span class="number">100</span>;</span><br><span class="line"><span class="type">int</span> fPos = <span class="number">90</span>;</span><br><span class="line"><span class="type">int</span> gPos = <span class="number">90</span>;</span><br><span class="line"><span class="type">int</span> hPos = <span class="number">95</span>;</span><br><span class="line"><span class="type">int</span> dsd = <span class="number">5</span>;</span><br><span class="line"><span class="type">int</span> add = <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">setup</span><span class="params">()</span> &#123;</span><br><span class="line">a.attach(<span class="number">2</span>);     </span><br><span class="line">b.attach(<span class="number">3</span>);     </span><br><span class="line">c.attach(<span class="number">4</span>);      </span><br><span class="line">d.attach(<span class="number">5</span>);</span><br><span class="line">e.attach(<span class="number">6</span>);     </span><br><span class="line">f.attach(<span class="number">7</span>);     </span><br><span class="line">g.attach(<span class="number">8</span>);      </span><br><span class="line">h.attach(<span class="number">9</span>);</span><br><span class="line">Serial.begin(<span class="number">9600</span>);</span><br><span class="line">Serial.println(<span class="string">&quot;欢迎使用MEARM舵机机械臂！&quot;</span>);</span><br><span class="line"></span><br><span class="line">a.write(aPos);</span><br><span class="line">delay(<span class="number">10</span>);</span><br><span class="line">b.write(bPos);</span><br><span class="line">delay(<span class="number">10</span>);</span><br><span class="line">c.write(cPos);</span><br><span class="line">delay(<span class="number">10</span>);</span><br><span class="line">d.write(dPos);</span><br><span class="line">delay(<span class="number">10</span>);</span><br><span class="line">e.write(ePos);</span><br><span class="line">delay(<span class="number">10</span>);</span><br><span class="line">f.write(fPos);</span><br><span class="line">delay(<span class="number">10</span>);</span><br><span class="line">g.write(gPos);</span><br><span class="line">delay(<span class="number">10</span>);</span><br><span class="line">h.write(hPos);</span><br><span class="line">delay(<span class="number">10</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">loop</span><span class="params">()</span> &#123;</span><br><span class="line"><span class="keyword">if</span> (Serial.available()&gt;<span class="number">0</span>)&#123;</span><br><span class="line">    <span class="type">char</span> servoname = Serial.read();</span><br><span class="line">    armDateCmd(servoname);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">armDateCmd</span><span class="params">(<span class="type">char</span> servoname)</span>&#123;</span><br><span class="line">   <span class="keyword">if</span> (servoname == <span class="string">&#x27;a&#x27;</span> || servoname == <span class="string">&#x27;b&#x27;</span> || servoname == <span class="string">&#x27;c&#x27;</span> || servoname == <span class="string">&#x27;d&#x27;</span> ||servoname == <span class="string">&#x27;e&#x27;</span> || servoname == <span class="string">&#x27;f&#x27;</span> || servoname == <span class="string">&#x27;g&#x27;</span> || servoname == <span class="string">&#x27;h&#x27;</span>)</span><br><span class="line">   &#123;</span><br><span class="line">    Serial.print(<span class="string">&quot;舵机代号：&quot;</span>);</span><br><span class="line">    Serial.print(servoname);</span><br><span class="line">    <span class="type">int</span> servoDate = Serial.parseInt();</span><br><span class="line">    servoCmd(servoname,servoDate);</span><br><span class="line">     &#125;</span><br><span class="line">   <span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(servoname == <span class="string">&#x27;o&#x27;</span> || servoname == <span class="string">&#x27;i&#x27;</span> || servoname == <span class="string">&#x27;k&#x27;</span>)&#123;</span><br><span class="line">      <span class="keyword">switch</span>(servoname)&#123;</span><br><span class="line">        <span class="keyword">case</span><span class="number">&#x27;</span>o<span class="number">&#x27;</span>:</span><br><span class="line">          </span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span><span class="number">&#x27;</span>i<span class="number">&#x27;</span>:</span><br><span class="line">          </span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span><span class="number">&#x27;</span>k<span class="number">&#x27;</span>:</span><br><span class="line">          armtext();</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">      Serial.println(<span class="string">&quot;输入错误&quot;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">servoCmd</span><span class="params">(<span class="type">char</span> servoname,<span class="type">int</span> servoDate)</span>&#123;</span><br><span class="line">    <span class="type">int</span> fromPos;</span><br><span class="line">    <span class="type">int</span> toPos;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">switch</span>(servoname)&#123;</span><br><span class="line">      <span class="keyword">case</span><span class="number">&#x27;</span>a<span class="number">&#x27;</span>:</span><br><span class="line">        fromPos = a.read();</span><br><span class="line">        toPos = servoDate;</span><br><span class="line">        <span class="keyword">if</span>(toPos &gt;= fromPos)&#123;</span><br><span class="line">          <span class="keyword">for</span> (<span class="type">int</span> i = fromPos;i &lt;= toPos;i = i + add)&#123;</span><br><span class="line">            a.write(i);</span><br><span class="line">            delay(dsd);</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">          <span class="keyword">for</span> (<span class="type">int</span> i = fromPos;i &gt;= toPos;i = i - add)&#123;</span><br><span class="line">            a.write(i);</span><br><span class="line">            delay(dsd);</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        fromPos = servoDate;</span><br><span class="line">        Serial.print(<span class="string">&quot;  a舵机角度为：&quot;</span>);</span><br><span class="line">        Serial.println(servoDate);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">case</span><span class="number">&#x27;b</span><span class="number">&#x27;</span>:</span><br><span class="line">        fromPos = b.read();</span><br><span class="line">        toPos = servoDate;</span><br><span class="line">        <span class="keyword">if</span>(toPos &gt;= fromPos)&#123;</span><br><span class="line">          <span class="keyword">for</span> (<span class="type">int</span> i = fromPos;i &lt;= toPos;i = i + add)&#123;</span><br><span class="line">            b.write(i);</span><br><span class="line">            delay(dsd);</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">          <span class="keyword">for</span> (<span class="type">int</span> i = fromPos;i &gt;= toPos;i = i - add)&#123;</span><br><span class="line">            b.write(i);</span><br><span class="line">            delay(dsd);</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        fromPos = servoDate;</span><br><span class="line">        Serial.print(<span class="string">&quot;  b舵机角度为：&quot;</span>);</span><br><span class="line">        Serial.println(servoDate);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">case</span><span class="number">&#x27;</span>c<span class="number">&#x27;</span>:</span><br><span class="line">        fromPos = c.read();</span><br><span class="line">        toPos = servoDate;</span><br><span class="line">        <span class="keyword">if</span>(toPos &gt;= fromPos)&#123;</span><br><span class="line">          <span class="keyword">for</span> (<span class="type">int</span> i = fromPos;i &lt;= toPos;i = i + add)&#123;</span><br><span class="line">            c.write(i);</span><br><span class="line">            delay(dsd);</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">          <span class="keyword">for</span> (<span class="type">int</span> i = fromPos;i &gt;= toPos;i = i - add)&#123;</span><br><span class="line">            c.write(i);</span><br><span class="line">            delay(dsd);</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        fromPos = servoDate;</span><br><span class="line">        Serial.print(<span class="string">&quot;  c舵机角度为：&quot;</span>);</span><br><span class="line">        Serial.println(servoDate);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">case</span><span class="number">&#x27;</span>d<span class="number">&#x27;</span>:</span><br><span class="line">        fromPos = d.read();</span><br><span class="line">        toPos = servoDate;</span><br><span class="line">        <span class="keyword">if</span>(toPos &gt;= fromPos)&#123;</span><br><span class="line">          <span class="keyword">for</span> (<span class="type">int</span> i = fromPos;i &lt;= toPos;i = i + add)&#123;</span><br><span class="line">            d.write(i);</span><br><span class="line">            delay(dsd);</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">          <span class="keyword">for</span> (<span class="type">int</span> i = fromPos;i &gt;= toPos;i = i - add)&#123;</span><br><span class="line">            d.write(i);</span><br><span class="line">            delay(dsd);</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        fromPos = servoDate;</span><br><span class="line">        Serial.print(<span class="string">&quot;  d舵机角度为：&quot;</span>);</span><br><span class="line">        Serial.println(servoDate);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">case</span><span class="number">&#x27;e&#x27;</span>:</span><br><span class="line">        fromPos = e.read();</span><br><span class="line">        toPos = servoDate;</span><br><span class="line">        <span class="keyword">if</span>(toPos &gt;= fromPos)&#123;</span><br><span class="line">          <span class="keyword">for</span> (<span class="type">int</span> i = fromPos;i &lt;= toPos;i = i + add)&#123;</span><br><span class="line">            e.write(i);</span><br><span class="line">            delay(dsd);</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">          <span class="keyword">for</span> (<span class="type">int</span> i = fromPos;i &gt;= toPos;i = i - add)&#123;</span><br><span class="line">            e.write(i);</span><br><span class="line">            delay(dsd);</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        fromPos = servoDate;</span><br><span class="line">        Serial.print(<span class="string">&quot;  e舵机角度为：&quot;</span>);</span><br><span class="line">        Serial.println(servoDate);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">case</span><span class="number">&#x27;f</span><span class="number">&#x27;</span>:</span><br><span class="line">        fromPos = f.read();</span><br><span class="line">        toPos = servoDate;</span><br><span class="line">        <span class="keyword">if</span>(toPos &gt;= fromPos)&#123;</span><br><span class="line">          <span class="keyword">for</span> (<span class="type">int</span> i = fromPos;i &lt;= toPos;i = i + add)&#123;</span><br><span class="line">            f.write(i);</span><br><span class="line">            delay(dsd);</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">          <span class="keyword">for</span> (<span class="type">int</span> i = fromPos;i &gt;= toPos;i = i - add)&#123;</span><br><span class="line">            f.write(i);</span><br><span class="line">            delay(dsd);</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        fromPos = servoDate;</span><br><span class="line">        Serial.print(<span class="string">&quot;  f舵机角度为：&quot;</span>);</span><br><span class="line">        Serial.println(servoDate);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">case</span><span class="number">&#x27;</span>g<span class="number">&#x27;</span>:</span><br><span class="line">        fromPos = g.read();</span><br><span class="line">        toPos = servoDate;</span><br><span class="line">        <span class="keyword">if</span>(toPos &gt;= fromPos)&#123;</span><br><span class="line">          <span class="keyword">for</span> (<span class="type">int</span> i = fromPos;i &lt;= toPos;i = i + add)&#123;</span><br><span class="line">            g.write(i);</span><br><span class="line">            delay(dsd);</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">          <span class="keyword">for</span> (<span class="type">int</span> i = fromPos;i &gt;= toPos;i = i - add)&#123;</span><br><span class="line">            g.write(i);</span><br><span class="line">            delay(dsd);</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        fromPos = servoDate;</span><br><span class="line">        Serial.print(<span class="string">&quot;  g舵机角度为：&quot;</span>);</span><br><span class="line">        Serial.println(servoDate);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">case</span><span class="number">&#x27;</span>h<span class="number">&#x27;</span>:</span><br><span class="line">        fromPos = h.read();</span><br><span class="line">        toPos = servoDate;</span><br><span class="line">        <span class="keyword">if</span>(toPos &gt;= fromPos)&#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> i = fromPos;i &lt;= toPos;i = i + add)&#123;</span><br><span class="line">                h.write(i);</span><br><span class="line">                delay(dsd);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">          <span class="keyword">for</span> (<span class="type">int</span> i = fromPos;i &gt;= toPos;i = i - add)&#123;</span><br><span class="line">            h.write(i);</span><br><span class="line">            delay(dsd);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        fromPos = servoDate;</span><br><span class="line">        Serial.print(<span class="string">&quot;  h舵机角度为：&quot;</span>);</span><br><span class="line">        Serial.println(servoDate);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">armtext</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">int</span> armtextArray[<span class="number">16</span>][<span class="number">2</span>]&#123;</span><br><span class="line">        &#123;<span class="string">&#x27;e&#x27;</span>,<span class="number">180</span>&#125;,</span><br><span class="line">        &#123;<span class="string">&#x27;a&#x27;</span>,<span class="number">120</span>&#125;, </span><br><span class="line">        &#123;<span class="string">&#x27;e&#x27;</span>,<span class="number">100</span>&#125;,</span><br><span class="line">        &#123;<span class="string">&#x27;g&#x27;</span>,<span class="number">20</span>&#125;,</span><br><span class="line">        &#123;<span class="string">&#x27;c&#x27;</span>,<span class="number">30</span>&#125;,</span><br><span class="line">        &#123;<span class="string">&#x27;g&#x27;</span>,<span class="number">90</span>&#125;,</span><br><span class="line">        &#123;<span class="string">&#x27;a&#x27;</span>,<span class="number">70</span>&#125;,</span><br><span class="line">        &#123;<span class="string">&#x27;f&#x27;</span>,<span class="number">0</span>&#125;,</span><br><span class="line">        &#123;<span class="string">&#x27;b&#x27;</span>,<span class="number">60</span>&#125;,</span><br><span class="line">        &#123;<span class="string">&#x27;c&#x27;</span>,<span class="number">60</span>&#125;,</span><br><span class="line">        &#123;<span class="string">&#x27;f&#x27;</span>,<span class="number">90</span>&#125;,</span><br><span class="line">        &#123;<span class="string">&#x27;h&#x27;</span>,<span class="number">140</span>&#125;,</span><br><span class="line">        &#123;<span class="string">&#x27;d&#x27;</span>,<span class="number">160</span>&#125;,</span><br><span class="line">        &#123;<span class="string">&#x27;b&#x27;</span>,<span class="number">120</span>&#125;,</span><br><span class="line">        &#123;<span class="string">&#x27;h&#x27;</span>,<span class="number">95</span>&#125;,</span><br><span class="line">        &#123;<span class="string">&#x27;d&#x27;</span>,<span class="number">130</span>&#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i = <span class="number">0</span>;i &lt;= <span class="number">15</span>;i = i + <span class="number">1</span>)&#123;</span><br><span class="line">        servoCmd(armtextArray[i][<span class="number">0</span>],armtextArray[i][<span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*&#123;&#x27;e&#x27;,180&#125;,</span></span><br><span class="line"><span class="comment">    &#123;&#x27;a&#x27;,120&#125;, </span></span><br><span class="line"><span class="comment">    &#123;&#x27;e&#x27;,100&#125;,</span></span><br><span class="line"><span class="comment">    &#123;&#x27;g&#x27;,0&#125;,</span></span><br><span class="line"><span class="comment">    &#123;&#x27;c&#x27;,20&#125;,</span></span><br><span class="line"><span class="comment">    &#123;&#x27;g&#x27;,90&#125;,</span></span><br><span class="line"><span class="comment">    &#123;&#x27;a&#x27;,50&#125;,</span></span><br><span class="line"><span class="comment">    &#123;&#x27;f&#x27;,0&#125;,</span></span><br><span class="line"><span class="comment">    &#123;&#x27;b&#x27;,60&#125;,</span></span><br><span class="line"><span class="comment">    &#123;&#x27;c&#x27;,50&#125;,</span></span><br><span class="line"><span class="comment">    &#123;&#x27;f&#x27;,90&#125;,</span></span><br><span class="line"><span class="comment">    &#123;&#x27;h&#x27;,180&#125;,</span></span><br><span class="line"><span class="comment">    &#123;&#x27;d&#x27;,180&#125;,</span></span><br><span class="line"><span class="comment">    &#123;&#x27;b&#x27;,130&#125;,</span></span><br><span class="line"><span class="comment">    &#123;&#x27;h&#x27;,105&#125;,</span></span><br><span class="line"><span class="comment">    &#123;&#x27;d&#x27;,140&#125;*/</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> arduino_mearm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>图片测试</title>
      <link href="/2022/04/10/%E5%9B%BE%E7%89%87%E6%B5%8B%E8%AF%95/"/>
      <url>/2022/04/10/%E5%9B%BE%E7%89%87%E6%B5%8B%E8%AF%95/</url>
      
        <content type="html"><![CDATA[<p><img src="/2022/04/10/%E5%9B%BE%E7%89%87%E6%B5%8B%E8%AF%95/2022-04-10-23-59-31.png" alt="图片描述-这是vscode中为md文件粘贴图片插件"><br><img src="/2022/04/10/%E5%9B%BE%E7%89%87%E6%B5%8B%E8%AF%95/2022-04-11-00-14-05.png" alt><br><img src="/2022/04/10/%E5%9B%BE%E7%89%87%E6%B5%8B%E8%AF%95/QQ%E5%9B%BE%E7%89%8720220307094632.jpeg" alt></p>]]></content>
      
      
      
        <tags>
            
            <tag> 图片-test </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>第一篇-test</title>
      <link href="/2022/04/10/%E7%AC%AC%E4%B8%80%E7%AF%87-test/"/>
      <url>/2022/04/10/%E7%AC%AC%E4%B8%80%E7%AF%87-test/</url>
      
        <content type="html"><![CDATA[<p>hhh,这是我的第一次尝试搭建自己的网站，有所成功的喜悦之情让我难忘。</p>]]></content>
      
      
      
        <tags>
            
            <tag> test </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2022/04/10/hello-world/"/>
      <url>/2022/04/10/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start">Quick Start</h2><h3 id="Create-a-new-post">Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server">Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files">Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites">Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
